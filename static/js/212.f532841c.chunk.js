"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[212],{7212:function(n,e,r){r.r(e),r.d(e,{ContactsView:function(){return xn},default:function(){return pn}});var t,a,o,i,s,c,l,d,u,x,p,h,m,f,b,v=r(5861),Z=r(885),g=r(1413),j=r(4925),y=r(7757),w=r.n(y),C=r(5705),k=r(948),P=r(168),z=r(6031),_=(0,z.ZP)(C.l0)(t||(t=(0,P.Z)(["\n  width: 400px;\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  border-radius: 4px;\n"]))),A=(0,z.ZP)(C.gN)(a||(a=(0,P.Z)(["\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid grey;\n  font-size: 16px;\n  font-family: inherit;\n  :hover,\n  :focus {\n    border: 2px solid #719ece;\n    box-shadow: 0 0 5pt 0.5pt #999;\n  }\n"]))),N=z.ZP.div(o||(o=(0,P.Z)(["\n  display: flex;\n  gap: 10px;\n"]))),R=z.ZP.button(i||(i=(0,P.Z)(["\n  height: 40px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 2px;\n  border: none;\n  color: white;\n  background-color: #219df3;\n  &:nth-child(2) {\n    background-color: #eb3941;\n  }\n"]))),F=r(3284),L=r(5218),B=r(6856),I=r(7166),J=r(9434),S=r(184),E=["field"],M=F.Ry().shape({name:F.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"),number:F.Z_()}),V=function(n){var e=n.field,r=(0,j.Z)(n,E);return(0,S.jsx)(k.Z,(0,g.Z)((0,g.Z)((0,g.Z)({},e),r),{},{format:"+46 (##) ###-##-##",mask:"_",allowEmptyFormatting:!0}))},$=!1,G=function(n){var e=Object.assign({},n),r=(0,C.U$)(e),t=(0,Z.Z)(r,1)[0];return $=""!==t.value,(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(A,(0,g.Z)((0,g.Z)({},t),e))})},K=function(n){var e=n.name;return(0,S.jsx)(C.Bc,{name:e,render:function(n){return(0,S.jsx)("div",{children:n})}})},O=function(){var n=(0,J.I0)(),e=(0,J.v9)(I.lP.getContacts),r=null!==""?"":void 0,t=function(){var t=(0,v.Z)(w().mark((function t(a,o){var i,s,c,l,d,u;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a.name,s=a.number,c=o.resetForm,l=null===e||void 0===e?void 0:e.map((function(n){return n.name.toLowerCase()}))){t.next=5;break}return t.abrupt("return");case 5:if(d=!l.filter((function(n){return n.toLowerCase()===i.toLowerCase()})).length,t.prev=6,u={name:i,number:s},"primary"!==r||!d){t.next=15;break}return n(I.mh.addContact(u)),c(),L.ZP.success("New contacts has been successfully added"),t.abrupt("return");case 15:if("secondary"!==r){t.next=21;break}return L.ZP.success("Reset was succeessfully completed"),c({name:"",number:""}),t.abrupt("return");case 21:return t.abrupt("return",L.ZP.error("".concat(i," is already in contacts")));case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(6),console.log(t.t0);case 27:case"end":return t.stop()}}),t,null,[[6,24]])})));return function(n,e){return t.apply(this,arguments)}}(),a={color:"white",size:"30px"};return(0,S.jsx)(C.J9,{initialValues:{name:"",number:""},onSubmit:t,validationSchema:M,children:function(n){var e=n.handleChange,t=n.values,o=t.name,i=t.number;return(0,S.jsxs)(_,{children:[(0,S.jsx)("h3",{children:"New Contact"}),(0,S.jsx)(G,{type:"text",name:"name",value:o,onChange:e,placeholder:"Name"}),(0,S.jsx)(K,{name:"name",component:"div"}),(0,S.jsx)(A,{type:"text",name:"number",value:i,onChange:e,component:V}),(0,S.jsx)(K,{name:"number",component:"div"}),(0,S.jsxs)(N,{children:[(0,S.jsxs)(R,{type:"submit",onClick:function(){r="primary"},children:[(0,S.jsx)(B.vB0,{style:a}),"Add contact"]}),$&&(0,S.jsxs)(R,{type:"submit",variant:"contained",color:"secondary",onClick:function(){r="secondary"},children:[(0,S.jsx)(B.X6R,{style:a}),"Reset"]})]})]})}})},U=z.ZP.table(s||(s=(0,P.Z)(["\n  width: 100%;\n  border-collapse: collapse;\n"]))),W=z.ZP.thead(c||(c=(0,P.Z)([""]))),X=z.ZP.tr(l||(l=(0,P.Z)(["\n  background: #f3f3f3;\n"]))),q=z.ZP.th(d||(d=(0,P.Z)(["\n  text-align: left;\n  font-size: 18px;\n  height: 40px;\n  padding-left: 8px;\n"]))),D=z.ZP.tr(u||(u=(0,P.Z)(["\n  &:nth-child(even) {\n    background-color: #f3f3f3;\n  }\n"]))),H=z.ZP.td(x||(x=(0,P.Z)(["\n  height: 30px;\n"]))),Q=r(71),T=r(7425),Y=r(5036),nn=r(9705),en=function(n){var e=n.values,r=e.id,t=e.name,a=e.number,o=(0,J.I0)();return(0,S.jsxs)(D,{children:[(0,S.jsxs)(H,{children:[(0,S.jsx)(Q.J4e,{style:{marginRight:"6px"}}),t]}),(0,S.jsxs)(H,{children:[(0,S.jsx)(Q.xoe,{style:{marginRight:"6px"}}),a]}),(0,S.jsx)(H,{children:(0,S.jsx)(nn.Z,{onClick:function(){o((0,Y.GK)(r)),L.ZP.success("Contact was successfully deleted")},children:(0,S.jsx)(T.AWu,{size:22})})})]})},rn=function(n){var e=n.contacts;return(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(U,{children:[(0,S.jsx)(W,{children:(0,S.jsxs)(X,{children:[(0,S.jsx)(q,{children:"Name"}),(0,S.jsx)(q,{children:"Phone"}),(0,S.jsx)(q,{})]})}),(0,S.jsx)("tbody",{children:e.map((function(n){return(0,S.jsx)(en,{values:n},n.id)}))})]})})},tn=z.ZP.div(p||(p=(0,P.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  margin-bottom: 25px;\n"]))),an=z.ZP.input(h||(h=(0,P.Z)(["\n  display: inline-block;\n  width: 100%;\n  height: 40px;\n  margin-bottom: 20px;\n  padding: 4px 8px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid grey;\n  font-size: 16px;\n  font-family: inherit;\n  :hover,\n  :focus {\n    border: 2px solid #719ece;\n    box-shadow: 0 0 5pt 0.5pt #999;\n  }\n"]))),on=function(n){var e=n.onChange;return(0,S.jsx)(tn,{children:(0,S.jsx)(an,{onChange:e,placeholder:"Search Name"})})},sn=z.ZP.div(m||(m=(0,P.Z)(["\n  height: 100vh;\n  padding: 60px;\n  background-color: white;\n"]))),cn=z.ZP.div(f||(f=(0,P.Z)(["\n  display: flex;\n  gap: 30px;\n"]))),ln=z.ZP.div(b||(b=(0,P.Z)(["\n  flex-grow: 1;\n"]))),dn=r(2262),un=r(2791),xn=function(){var n=(0,J.I0)(),e=(0,J.v9)(I.lP.getContacts),r=(0,J.v9)(dn.b6);(0,un.useEffect)((function(){n(I.mh.fetchContacts())}),[n]);var t=(0,un.useMemo)((function(){var n;return null!==(n=null===e||void 0===e?void 0:e.filter((function(n){return n.name.toLowerCase().includes(r.toLowerCase())})))&&void 0!==n?n:[]}),[e,r]);return(0,S.jsx)("div",{children:(0,S.jsx)(sn,{children:(0,S.jsxs)(cn,{children:[(0,S.jsx)(O,{}),(0,S.jsxs)(ln,{children:[(0,S.jsx)(on,{onChange:function(e){var r=e.target.value;n((0,dn.l_)(r))}}),e&&(0,S.jsx)(rn,{contacts:t})]})]})})})},pn=xn}}]);
//# sourceMappingURL=212.f532841c.chunk.js.map